{"changed":false,"filter":false,"title":"MemoryGame.js","tooltip":"/3-gameon/memory/script/MemoryGame.js","value":"\"use strict\"\n        \n    var startMemory = {  // skapar en variabel som ska symbolisera hela programmet!\n    \n    array:[],\n    \n    img:0,\n    aElement:0,\n    \n    rows:4,\n    columns:4,\n    lastClicked:null,\n    //clickCount:0,\n    defaultPicture:\"Pics/0.png\",\n    \n    testCount:0,\n    turns:0,\n    newClick:0,\n    count: 0,\n    round: 0,\n        \n    init:function(){                                                                //skapar en init funktion där jag startar run game funktionen !\n        //var array = startMemory.array;\n        startMemory.array = RandomGenerator.getPictureArray(startMemory.rows, startMemory.columns);                   // med denna så genereras alla bilderna i random ordning och detta ska jag använda när bilderna ska vara i olika ordning!\n        //startMemory.startGame(startMemory.array); // skapar massor med tables!!\n        console.log(startMemory.array);\n        startMemory.startGame();\n        \n    },\n    \n    startGame:function(array){\n        \n        var memoryArea = document.getElementById(\"memoryGame\");                     //lägger in memoryGame diven i denna variablen!\n        \n        var table = document.createElement(\"table\");                                // skapar en tabell som ska strukturera upp allt!\n        //table.border = 2;\n       \n        \n        for (var R = 0; R < startMemory.rows; R += 1)                               // ska skriva ut tabellen!\n        {\n            var rows = document.createElement(\"tr\"); // skapar alla raderna\n            table.appendChild(rows);\n            console.log(startMemory.array[R]);\n            //alert(startMemory.array[R]);\n            for (var C = 0; C < startMemory.columns; C += 1)// skapar alla kolumnerna!\n            {\n                var tdElement = document.createElement(\"td\");                       //skapar ett td element i listan\n                \n                var aElement = document.createElement(\"a\");                         // skapar ett a element\n                //aElement.pic =\"Pics/\"+ startMemory.array[startMemory.count] +\".png\";\n                aElement.href = \"#\";                                                // så att man kan taba igenom sidan!\n                \n                \n                //img.picture = startMemory.array[startMemory.count];\n                            \n                //aElement.className = startMemory.array[startMemory.count];               //lägger in så att för varje ny count så läggs en ny bild in!\n                \n                var img = document.createElement(\"img\");\n                img.src = startMemory.defaultPicture;\n                img.flipImage = false; // om bilden inte är vänd så är det bild 0\n                img.id = \"down\";\n                img.newPicture = \"Pics/\" + startMemory.array[startMemory.count] + \".png\";// aElement variablen är modifierad och enda gången detta kan skapa problem är om man jämnför! picture är en ny variabel i a Element\n                startMemory.count+=1;\n                \n                \n                //img.className = startMemory.array[startMemory.count];\n                //startMemory.aElement.onclick = startMemory.click(img, img.className); // hittade på en sida på google! // hade tänkt fel men tänkte med dessa innan!\n                \n                \n                aElement.addEventListener(\"click\", startMemory.flipImage);\n                \n                aElement.appendChild(img);                          // lägger till alla förändringarna på dom olika ställena!!\n                tdElement.appendChild(aElement);\n                rows.appendChild(tdElement);\n                //aElement.onclick = startMemory.flipImage;                           //anropar flip Image funktionen!\n                \n                //startMemory.count += 1;\n            }\n            table.appendChild(rows);\n        }\n        memoryArea.appendChild(table);\n    },\n    \n    flipImage:function(e){\n        \n            var picture; \n            if(this == e.target) // här så ska vi fixa så att tab + enter vänder alla brickor!\n            {\n                picture = e.target.childNodes[0];\n            }\n            else\n            {\n                picture = e.target;\n            }\n            \n            //this = picture;\n            \n            startMemory.newClick += 1;\n        \n            picture.src = picture.newPicture;//\n            picture.flipImage = true;\n            \n            e.currentTarget.removeEventListener(\"click\", startMemory.flipImage); // om en bild är vänd så tar jag bort klickfunktionen!\n            e.currentTarget.onclick = null;\n                \n            if (startMemory.newClick === 2)\n            {\n                var nowFliped = picture;                                       //this är = bilden om jag inte minns fel!\n                var last = startMemory.lastClicked;\n                startMemory.testCount += 1;                                 //räknar hur många gånger man vänder på 2 st bilder!!\n                \n                e.currentTarget.addEventListener(\"click\", startMemory.flipImage); // lägger till klickfunktionen! tar jag bort denna så kan jag bara klicka på bilden 1 gång\n                e.currentTarget.onclick = true;\n                last.parentNode.addEventListener(\"click\", startMemory.flipImage);\n                last.parentNode.onclick = true;\n                \n                if (nowFliped.newPicture === last.newPicture)               // den här funktionen bestämmer om två bilder är av samma karaktär och gör så att dessa stannar uppvända!\n                {\n                    var lastclicked = last;\n                    nowFliped.parentNode.removeEventListener(\"click\", startMemory.flipImage); // tar bort klickfunktionen när två av samma är vända!\n                    lastclicked.parentNode.removeEventListener(\"click\", startMemory.flipImage);\n                    nowFliped.onclick = null;\n                    lastclicked.onclick = null;\n                    startMemory.turns += 1;                                 // räknar paren som i nästa funktion kommer stanna programmet när alla bildpar är vända korrekt!\n                    \n                    if (startMemory.turns === startMemory.array.length / 2) //körs när alla par är uppvända korrekt!\n                    {\n                        var resultboard = document.getElementById(\"ResaultBoard\"); // lägger in en ny div tagg \n                        resultboard.innerHTML = (\"Congratulation you made it in \" + startMemory.testCount + \" turns, you're a BOZZ!\");// med detta som argument.\n                    }\n                }\n                \n                else\n                {\n                    setTimeout(function() // är dessa inte rätt så ska dessa vändas tillbaka och det fixar denna funktionen!\n                    {\n                       last.src = startMemory.defaultPicture;\n                       nowFliped.src = startMemory.defaultPicture;\n                    },800);\n                }\n                    startMemory.newClick = 0;\n            }\n            startMemory.lastClicked = picture;\n                    \n    }\n};// end of startMemory\n        \n        //var self = this;\n        /*this.firstChild.src = \"Pics/\" + this.picture + \".png\";                      // anropar firstchild i  a taggen !!\n        \n        startMemory.round += 1;\n        \n        if (startMemory.round === 2)\n        {\n            //var\n            if(startMemory.lastClicked === this.firstChild.src)\n            {\n                \n            }\n            startMemory.round = 0;\n        }\n        startMemory.lastChild = this.firstChild.src;*/\n        \n\n    \n    //runGame:function(){ // skapar här min run game function som jag har tänkt ska starta hela procesen med spelet från början!\n        \n        \n    \n    \n    window.onload = startMemory.init();","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":1320,"scrollleft":0,"selection":{"start":{"row":32,"column":60},"end":{"row":32,"column":60},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":86,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1418653855883}